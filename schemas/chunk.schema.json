{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Chunk",
  "type": "object",
  "required": [
    "chunk_id",
    "document_id",
    "content",
    "position",
    "created_at"
  ],
  "properties": {
    "chunk_id": {
      "type": "string",
      "description": "Унікальний ідентифікатор чанка"
    },
    "document_id": {
      "type": "string",
      "description": "ID документа, з якого походить чанк"
    },
    "content": {
      "type": "string",
      "description": "Текст чанка"
    },
    "position": {
      "type": "object",
      "description": "Позиція чанка в документі",
      "required": ["start", "end"],
      "properties": {
        "start": {
          "type": "integer",
          "minimum": 0
        },
        "end": {
          "type": "integer",
          "minimum": 0
        }
      }
    },
    "embedding_id": {
      "type": "string",
      "description": "ID embedding-вектора для чанка",
      "nullable": true
    },
    "content_hash": {
      "type": "string",
      "description": "Хеш контенту чанка для дедуплікації",
      "nullable": true
    },
    "metadata": {
      "type": "object",
      "description": "Довільні метадані чанка",
      "properties": {
        "page": { "type": "integer" },
        "section": { "type": "string" }
      },
      "additionalProperties": true
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Час створення чанка"
    }
  },
  "additionalProperties": false
}
